document.addEventListener('DOMContentLoaded', function() {
    // Alternar entre formulários de login e cadastro
    const loginForm = document.getElementById('login-form');
    const registerForm = document.getElementById('register-form');
    const recoverForm = document.getElementById('recover-form');
    
    // Links para alternar entre formulários
    const switchLinks = document.querySelectorAll('.switch-link');
    const forgotPassword = document.querySelector('.forgot-password');
    
    // Botões para mostrar/esconder senha
    const togglePasswordBtns = document.querySelectorAll('.toggle-password');
    
    // Alternar visibilidade da senha
    togglePasswordBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const input = this.parentElement.querySelector('input');
            const icon = this.querySelector('i');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        });
    });
    
    // Alternar entre formulários
    switchLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const target = this.getAttribute('href');
            
            if (target === '#register') {
                loginForm.style.display = 'none';
                recoverForm.style.display = 'none';
                registerForm.style.display = 'block';
            } else if (target === '#login') {
                registerForm.style.display = 'none';
                recoverForm.style.display = 'none';
                loginForm.style.display = 'block';
            }
        });
    });
    
    // Esqueci minha senha
    if (forgotPassword) {
        forgotPassword.addEventListener('click', function(e) {
            e.preventDefault();
            loginForm.style.display = 'none';
            registerForm.style.display = 'none';
            recoverForm.style.display = 'block';
        });
    }
    
    // Máscara para CPF
    const cpfInput = document.getElementById('register-cpf');
    if (cpfInput) {
        cpfInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
            e.target.value = value;
        });
    }
    
    // Máscara para telefone
    const phoneInput = document.getElementById('register-phone');
    if (phoneInput) {
        phoneInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            value = value.replace(/^(\d{2})(\d)/g, '($1) $2');
            value = value.replace(/(\d)(\d{4})$/, '$1-$2');
            e.target.value = value;
        });
    }
    
    // Validação do formulário de cadastro
    const registerFormEl = document.getElementById('registerForm');
    if (registerFormEl) {
        registerFormEl.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Validação básica
            const password = document.getElementById('register-password');
            const confirm = document.getElementById('register-confirm');
            const terms = document.getElementById('register-terms');
            let isValid = true;
            
            // Verificar se as senhas coincidem
            if (password.value !== confirm.value) {
                confirm.classList.add('error');
                isValid = false;
                alert('As senhas não coincidem!');
            } else {
                confirm.classList.remove('error');
            }
            
            // Verificar termos aceitos
            if (!terms.checked) {
                terms.classList.add('error');
                isValid = false;
                alert('Você deve aceitar os termos e condições!');
            } else {
                terms.classList.remove('error');
            }
            
        });
    }
    

});
